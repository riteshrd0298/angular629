<div class="feedback-form">
  <h2>Student Form</h2>
  <form (ngSubmit)="onSubmit()" novalidate>
    <!-- Student Name -->
    <div>
      <label for="studentName">Student Name:</label>
      <input
        id="studentName"
        type="text"
        [(ngModel)]="studentName"
        name="studentName"
        required
        #nameField="ngModel"
      />
      <div *ngIf="nameField.invalid && nameField.touched" class="error">
        Student Name is required.
      </div>
    </div>

    <!-- Batch Number -->
    <div>
      <label for="batchNumber">Batch Number:</label>
      <input
        id="batchNumber"
        type="number"
        [(ngModel)]="batchNumber"
        name="batchNumber"
        required
        #batchField="ngModel"
      />
      <div *ngIf="batchField.invalid && batchField.touched" class="error">
        Batch Number is required.
      </div>
    </div>

    <!-- Gender -->
    <div>
      <label for="feedback">Gender:</label>
      <select name="gender" id="gender" [(ngModel)]="gender">
        <option value="male">Male</option>
        <option value="female">Female</option>
      </select>
    </div>

    <div>
      <label for="feedback">Birt Date:</label>
      <input type="date" name="birthDate" [(ngModel)]="birthDate" />
    </div>

    <!-- Submit Button -->
    <button type="submit">Submit Feedback</button>
  </form>

  <h3>Submitted Feedbacks</h3>

  <div *ngIf="studentEntries.length > 0">
    <table>
      <thead>
        <tr>
          <th>Student Name</th>
          <th>Batch Number</th>
          <th>Gender</th>
          <th>BirtDate</th>
          <th>Age</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let entry of studentEntries">
          <td>{{entry.gender | i18nSelect:genderMapping}}  {{ entry.studentName }}</td>
          <td>{{ entry.batchNumber }}</td>
          <td>{{ entry.gender }}</td>
          <td>{{ entry.birthDate }}</td>
          <td>{{entry.birthDate | age:birthDate}}</td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
